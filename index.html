<!DOCTYPE html>
<html lang='es'>
<head>
<meta charset='utf-8' />
<style>
body {
	font-family: sans-serif;
}
table {
	border-collapse: collapse;
}
tbody {
	border-top: solid 1px gray;
}
td, th {
	text-align: left;
	padding: .1em .2em;
	font-weight: normal;
}
th.group {
	min-width: 1em;
}
th.group span {
	writing-mode: vertical-rl;
	transform: rotate(180deg);
}
td[title], th[title] {
	text-decoration: underline dotted;
}
[class|=stem] {
	border-right: solid 1px green;
	padding: .15em .05em .15em 0;
}
[class|=end] {
	font-weight: bold;
	border-left: solid 1px green;
	padding: .15em 0 .15em .05em;
}
[class|=stem] + [class|=end] {
	border: none;
}
.stem-2, .end-2 {
	border-color: red;
}
.stem-1 em, .end-1 em {
	color: green;
	font-style: normal;
}
.stem-2 em, .end-2 em {
	color: red;
	font-style: normal;
}
.stem-1 em:empty, .end-1 em:empty, .stem-2 em:empty, .end-2 em:empty {
	display: inline-block;
	width: .5ex;
}
.stem-1 em:empty, .end-1 em:empty {
	border-bottom: solid 1px green;
}
.stem-2 em:empty, .end-2 em:empty {
	border-bottom: solid 1px red;
}
</style>
</head>
<body>
<script>
const verbFormGroups=[
	['',['inf','ger','par']],
	['Presente',['pres1s','pres2s','pres3s','pres1p','pres2p','pres3p']],
	['Pretérito',['pret1s','pret2s','pret3s','pret1p','pret2p','pret3p']],
	['<abbr title=Pretérito>Pr.</abbr> imperfecto',['imp1s','imp2s','imp3s','imp1p','imp2p','imp3p']],
	['Imperativo',['im2s','im2vs','im1p','im2p','im2vp']],
]
const verbForms={
	inf: ['Infinitivo','инфинитив'],
	ger: ['Gerundio','для образования аналога continuous в английском по схеме спряжённый-estar + Ger. ("estoy estudiando" = "I am studying")'],
	par: ['Participio','страдательное(?) причастие прошедшего времени, меняется по родам и числам (apagado = выключенный, apagada = выключенная)'],
	pres1s: ['yo','1-е лицо единственного числа'],
	pres2s: ['tú','2-е лицо единственного числа'],
	pres3s: ['él','3-е лицо единственного числа (él, ella); вежливое вы единственного числа (usted)'],
	pres1p: ['nosotros','1-е лицо множественного числа (nosotros, nosotras)'],
	pres2p: ['vosotros','2-е лицо множественного числа (vosotros, vosotras)'],
	pres3p: ['ellos','3-е лицо множественного числа (ellos, ellas); вежливое вы множественного числа (ustedes)'],
	pret1s: ['yo','1-е лицо единственного числа'],
	pret2s: ['tú','2-е лицо единственного числа'],
	pret3s: ['él','3-е лицо единственного числа (él, ella); вежливое вы единственного числа (usted)'],
	pret1p: ['nosotros','1-е лицо множественного числа (nosotros, nosotras)'],
	pret2p: ['vosotros','2-е лицо множественного числа (vosotros, vosotras)'],
	pret3p: ['ellos','3-е лицо множественного числа (ellos, ellas); вежливое вы множественного числа (ustedes)'],
	imp1s: ['yo','1-е лицо единственного числа'],
	imp2s: ['tú','2-е лицо единственного числа'],
	imp3s: ['él','3-е лицо единственного числа (él, ella); вежливое вы единственного числа (usted)'],
	imp1p: ['nosotros','1-е лицо множественного числа (nosotros, nosotras)'],
	imp2p: ['vosotros','2-е лицо множественного числа (vosotros, vosotras)'],
	imp3p: ['ellos','3-е лицо множественного числа (ellos, ellas); вежливое вы множественного числа (ustedes)'],
	im2s: ['tú','2-е лицо единственного числа; форма глагола обычно совпадает с 3-м лицом ед. ч. Presente'],
	im2vs: ['usted','вежливое вы единственного числа; форма глагола обычно совпадает императивом для tú, только окончание a меняется на e и наоборот'],
	im1p: ['nosotros','1-е лицо множественного числа (nosotros, nosotras)'],
	im2p: ['vosotros','2-е лицо множественного числа (vosotros, vosotras)'],
	im2vp: ['ustedes','вежливое вы множественного числа'],
}
const v1=(...aa)=>{
	const a=[].concat.apply([],aa.map(s=>Array.isArray(s)?[s]:s.split(',')))
	return [
		'inf','ger','par',
		'pres1s','pres2s','pres3s','pres1p','pres2p','pres3p',
		'pret1s','pret2s','pret3s','pret1p','pret2p','pret3p',
		'imp1s','imp2s','imp3s','imp1p','imp2p','imp3p',
		'im2s','im2vs','im1p','im2p','im2vp'
	].reduce((o,k,i)=>({...o,[k]:a[i]}),{})
}
const verbs=[
	['hablar',v1(
		'habl|ar,habl|ando,habl|ado',
		'habl|o,habl|as,habl|a,habl|amos,habl|áis,habl|an',
		'habl|é,habl|aste,habl|ó,habl|amos,habl|asteis,habl|aron',
		'habl|aba,habl|abas,habl|aba,habl|ábamos,habl|abais,habl|aban',
		'habl|a,habl|e,habl|emos,habl|ad,habl|en',
	),'говорить'],
	['comer',v1(
		'com|er,com|iendo,com|ido',
		'com|o,com|es,com|e,com|emos,com|éis,com|en',
		'com|í,com|iste,com|ió,com|imos,com|isteis,com|ieron',
		'com|ía,com|ías,com|ía,com|íamos,com|íais,com|ían',
		'com|e,com|a,com|amos,com|ed,com|an',
	),'есть'],
	['vivir',v1(
		'viv|ir,viv|iendo,viv|ido',
		'viv|o,viv|es,viv|e,viv|imos,viv|ís,viv|en',
		'viv|í,viv|iste,viv|ió,viv|imos,viv|isteis,viv|ieron',
		'viv|ía,viv|ías,viv|ía,viv|íamos,viv|íais,viv|ían',
		'viv|e,viv|a,viv|amos,viv|id,viv|an',
	),'жить'],
	['estar',v1(
		'est|ar,est|ando,est|ado',
		'est|o[y],est|[á]s,est|[á],est|amos,est|áis,est|[á]n',
		'est[uv]|[e],est[uv]|iste,est[uv]|[o],est[uv]|imos,est[uv]|isteis,est[uv]|ieron',
		'est|aba,est|abas,est|aba,est|ábamos,est|abais,est|aban',
		'est|[á],est|[é],est|emos,est|ad,est|[é]n',
	),['быть','быть временно, быть в указанном месте']],
	['ser',v1(
		's|er,s|iendo,s|ido',
		's|o[y],er#es,e[s]#,s|[o]mos,s|[o]is,s|[o]n',
		'fu#[i],fu#iste,fu#[e],fu#imos,fu#isteis,fu#eron',
		'er#[]a,er#[]as,er#[]a,[é]r#[]amos,er#[]ais,er#[]an',
		's|[é],s|[e]a,s|[e]amos,s|ed,s|[e]an',
	),['быть','быть постоянно, быть в указанный момент времени']],
	['ir',v1(
		'#ir,#[y]endo,#ido',
		'v|o[y],v|as,v|a,v|amos,v|[a]is,v|an',
		'fu#[i],fu#iste,fu#[e],fu#imos,fu#isteis,fu#eron',
		'ib#[]a,ib#[]as,ib#[]a,[í]b#[]amos,ib#[]ais,ib#[]an',
		'v|e,v[ay]|a,v[ay]|amos,#id,v[ay]|an',
	),'идти'],
	['dar',v1(
		'd|ar,d|ando,d|ado',
		'd|o[y],d|as,d|a,d|amos,d|[a]is,d|an',
		'd|[i],d|[i]ste,d|[io],d|[i]mos,d|[i]steis,d|[ie]ron',
		'd|aba,d|abas,d|aba,d|ábamos,d|abais,d|aban',
		'd|a,d|[é],d|emos,d|ad,d|en',
	),'давать'],
	['leer',v1(
		'le|er',['le|[y]endo','после гласной -iendo меняется на -yendo'],'le|[í]do',
		'le|o,le|es,le|e,le|emos,le|éis,le|en',
		'le|í,le|[í]ste,le|[y]ó,le|[í]mos,le|[í]steis,le|[y]eron',
		'le|ía,le|ías,le|ía,le|íamos,le|íais,le|ían',
		'le|e,le|a,le|amos,le|ed,le|an',
	),'читать'],
]
const $body=document.getElementsByTagName('body')[0]
const $table=document.createElement('table')
const $thead=document.createElement('thead')
$table.appendChild($thead)
$thead.insertRow().innerHTML="<th colspan=2><th><abbr title='Primera conjugación'>1ª conj.</abbr><th><abbr title='Segunda conjugación'>2ª conj.</abbr><th><abbr title='Tercera conjugación'>3ª conj.</abbr>"
const readPair=(a)=>Array.isArray(a)?a:[a,'']
for (const [formGroupName,formGroupMembers] of verbFormGroups) {
	const $tbody=document.createElement('tbody')
	$table.appendChild($tbody)
	let firstInGroup=true
	for (formId of formGroupMembers) {
		const $row=$tbody.insertRow()
		if (firstInGroup && formGroupName) {
			const $formGroupCell=document.createElement('th')
			$row.appendChild($formGroupCell)
			$formGroupCell.innerHTML='<span>'+formGroupName+'</span>'
			$formGroupCell.classList.add('group')
			$formGroupCell.setAttribute('rowspan',formGroupMembers.length)
		}
		firstInGroup=false
		const [formText,formNote]=verbForms[formId]
		const $formCell=document.createElement('th')
		if (!formGroupName) $formCell.setAttribute('colspan',2)
		$row.appendChild($formCell)
		$formCell.innerHTML=formText
		$formCell.setAttribute('title',formNote)
		for (const [verb,forms] of verbs) {
			const [form,formNote]=readPair(forms[formId])
			const $cell=$row.insertCell()
			if (!forms[formId]) continue
			let variant=1
			let [stem,end]=form.split('|')
			if (!end) {
				variant=2
				;[stem,end]=form.split('#')
			}
			const mark=(s)=>s.replace(/\[(.*)\]/,'<em>$1</em>')
			const makeSpan=(cls,s)=>s?`<span class=${cls}-${variant}>${mark(s)}</span>`:''
			$cell.innerHTML=makeSpan('stem',stem)+makeSpan('end',end)
			if (formNote) $cell.setAttribute('title',formNote)
		}
	}
}
{
	const $tbody=document.createElement('tbody')
	$table.appendChild($tbody)
	{
		const $row=$tbody.insertRow()
		$row.setAttribute('lang','ru')
		const $cell=document.createElement('th')
		$cell.setAttribute('colspan',2)
		$row.appendChild($cell)
		for (const [verb,forms,translationData] of verbs) {
			const [translation,translationNote]=readPair(translationData)
			const $cell=$row.insertCell()
			$cell.innerHTML=translation
			if (translationNote) $cell.setAttribute('title',translationNote)
		}
	}
	{
		const $row=$tbody.insertRow()
		const $cell=document.createElement('th')
		$cell.setAttribute('colspan',2)
		$row.appendChild($cell)
		for (const [verb] of verbs) {
			$row.insertCell().innerHTML="<a href=https://es.wiktionary.org/wiki/"+verb+"#Conjugaci%C3%B3n>[w]</a>"
		}
	}
}
$body.appendChild($table)
</script>
</body>
</html>
